<div class="container">
    <div class="title">
        <h1>Calendario de asistencia</h1>
    </div>
    <div class="wrapper-calendar">
        <div class="header-calendar">
            <div>
                <button (click)="changeMonth(-1)" class="btn-prev">Antes</button>
            </div>
            <h1>{{dateSelect | date:'MMMM, yyyy'}}</h1>
            <div>
                <button (click)="changeMonth(1)" class="btn-next">Siguiente</button>
            </div>
        </div>
        <ol>
            <li *ngFor="let day of week" class="day-name">{{day | slice:0:3}}</li>
            <li (click)="showEventForm(i)" [style.gridColumnStart]="first ? day?.indexWeek : 'auto'"
                *ngFor="let day of monthSelect;let first = first; index as i">
                <div>
                    <div>
                        <p>{{[day?.value]}}</p>
                    </div>
                    <div *ngIf="day.events && day.events.length > 0">
                        <div *ngFor="let event of day.events">
                            <p>hora: {{event.time}}</p>
                            <p>Evento: {{event.description}}</p>
                            <button type="button" (click)="deleteEvent(event.id)">Borrar</button>
                        </div>
                    </div>
                </div>
            </li>
        </ol>
    </div>
    <div *ngIf="showForm">
        <form (submit)="saveEvent(event)" id="formEvent">
            <input type="hidden" id="daySelect" name="daySelect" [(ngModel)]="daySelect" />
            <div class="form-group">
                <label for="exampleInputEvent">Horario del evento</label>
                <input type="time" class="form-control" id="exampleInputEvent" name="time" aria-describedby="textHelp"
                    placeholder="Enter evento" [(ngModel)]="event.time">
                <small id="textHelp" class="form-text text-muted">Ingrese un horario</small>
            </div>
            <div class="form-group">
                <label for="exampleInputDescription">Descripcion</label>
                <textarea type="description" class="form-control" id="exampleInputDescription" name="description"
                    placeholder="Descripcion" [(ngModel)]="event.description"></textarea>
            </div>
            <button type="submit" class="btn btn-primary">Aceptar</button>
        </form>
    </div>
</div> 
<div class="container">
    <div class="title">
        <h1>Calendario de asistencia</h1>
    </div>
    <div class="wrapper-calendar">
        <div class="header-calendar">
            <div>
                <button (click)="changeMonth(-1)" class="btn-prev">Antes</button>
            </div>
            <h1>{{dateSelect | date:'MMMM, yyyy'}}</h1>
            <div>
                <button (click)="changeMonth(1)" class="btn-next">Siguiente</button>
            </div>
        </div>
        <ol>
            <li *ngFor="let day of week" class="day-name">{{day | slice:0:3}}</li>

            <li (click)="showTaskForm(i)" [style.gridColumnStart]="first ? day?.indexWeek : 'auto'"
                *ngFor="let day of monthSelect;let first = first; index as i">
                <div>
                    <div>
                        <p>{{[day?.value]}}</p>
                    </div>
                    <div *ngIf="day.tasks && day.tasks.length > 0">
                        <div *ngFor="let task of day.tasks">
                            <p>Hora: {{task.time}}</p>
                            <p>Tarea: {{task.description}}</p>
                            <button type="button" (click)="deleteTaskById(task.id)">Borrar</button>
                            <!-- <button type="button" (click)="showEventToModifyId(event)">Modificar</button> -->
                        </div>
                    </div>
                </div>
            </li>
        </ol>
    </div>
    <div *ngIf="showForm">
        <form (submit)="saveTask(task)" id="formTask">
            <div class="form-group">
                <label for="exampleInputTask">Horario de la tarea</label>
                <input type="time" class="form-control" id="exampleInputTask" name="time" aria-describedby="textHelp"
                    placeholder="Enter tarea" [(ngModel)]="task.time">
                <small id="textHelp" class="form-text text-muted">Ingrese un horario</small>
            </div>
            <div class="form-group">
                <label for="exampleInputDescription">Descripcion</label>
                <textarea type="description" class="form-control" id="exampleInputDescription" name="description"
                    placeholder="Descripcion" [(ngModel)]="task.description"></textarea>
            </div>
            <button type="submit" class="btn btn-primary">Aceptar</button>
        </form>
    </div>
</div>

